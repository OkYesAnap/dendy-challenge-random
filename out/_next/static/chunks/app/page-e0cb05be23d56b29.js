(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4068:(e,t,s)=>{"use strict";s.d(t,{default:()=>I});var l=s(5155),r=s(3464);let a=async()=>{try{let e=(await r.A.get("https://docs.google.com/spreadsheets/d/".concat("1lQKxm4V-xac7sl0mrwcgOg1BLpHGAy_f873ls0hoVeM","/gviz/tq?tqx=out:json&range=").concat("Список игр 2025!A1:A60"))).data;return JSON.parse(e.substr(47).slice(0,-2)).table.rows.map((e,t)=>"".concat(t+1,". ").concat(e.c[0].v))}catch(e){return console.error("Error fetching data:",e),[]}};var n=s(1990);let c=(0,n.zD)("games/getGamesList",a),i=(0,n.Z0)({name:"games",initialState:{allGamesList:[],startSlots:[],currentRolls:[],beginEvent:[],statistics:{},gamesInEvent:7,showVisualEvents:6,eventsList:[],blackFieldsCounter:0,eventsCounter:0,rollCounter:0,currentSlot:""},reducers:{setAllGamesList(e,t){e.allGamesList=t.payload},setStartSlots(e,t){e.startSlots=t.payload,t.payload.forEach(t=>e.statistics[t]=0)},addBlackSlots(e,t){let s=[];e.statistics={};let{customSlots:l,blackSlots:r}=t.payload;if(r)for(let e=0;e<r;e++)s.push("Black slot ".concat(e+1));e.startSlots=[...e.allGamesList,...s,...l],e.beginEvent=e.startSlots,i.caseReducers.resetStatistics(e)},addRoll(e){let t=Math.floor(Math.random()*e.beginEvent.length),s=e.beginEvent[t];e.currentSlot=e.beginEvent[t],e.beginEvent.splice(t,1),e.gamesInEvent<=e.currentRolls.length&&(e.eventsList.push(e.currentRolls),e.currentRolls.find(e=>e.includes("Black slot"))&&(e.blackFieldsCounter+=1),e.currentRolls=[],e.beginEvent=e.startSlots,e.eventsCounter+=1),e.currentRolls.push(s),e.showVisualEvents<=e.eventsList.length&&(e.eventsList=[]),e.statistics[s]+=1,e.rollCounter+=1},setBeginDay(e){e.beginEvent=e.startSlots},setCurrentSlot(e,t){e.currentSlot=t.payload},setGamesInEvent(e,t){let s=t.payload,l=e.allGamesList.length;s>l&&(s=l),s<1&&(s=1),e.gamesInEvent=s},resetStatistics(e){e.currentRolls=[],e.eventsList=[],e.startSlots.forEach(t=>e.statistics[t]=0),e.blackFieldsCounter=0,e.eventsCounter=0,e.rollCounter=0}},extraReducers:e=>{e.addCase(c.fulfilled,(e,t)=>{e.allGamesList=t.payload})}}),{setAllGamesList:d,setStartSlots:o,addRoll:x,addBlackSlots:m,setCurrentSlot:u,setGamesInEvent:h,resetStatistics:p}=i.actions,v=e=>e.games.allGamesList,f=e=>e.games.currentRolls,g=e=>e.games.statistics,b=e=>e.games.beginEvent,j=e=>e.games.eventsList,N=e=>e.games.blackFieldsCounter,w=e=>e.games.eventsCounter,y=e=>e.games.rollCounter,k=e=>e.games.currentSlot,C=e=>e.games.gamesInEvent,E=i.reducer;var S=s(4540);let L=()=>{let e=(0,S.d4)(j),t=(0,S.d4)(f);return(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-1 pl-2 pr-2 pt-3",children:[e.map((e,t)=>(0,l.jsx)("div",{className:"pt-5",children:e.map((e,s)=>(0,l.jsx)("div",{className:"border pl-2 pr-2 truncate",children:e},"".concat(t,"-").concat(s)))},"".concat(t))),t.length?(0,l.jsx)("div",{className:"pt-5",children:t.map((e,t)=>(0,l.jsx)("div",{className:"border pl-2 pr-2 truncate",children:e},"".concat(t)))}):null]})};var R=s(2115);let G=()=>{let[e,t]=(0,R.useState)(5),[s,r]=(0,R.useState)(0),[a,n]=(0,R.useState)(1e3),c=(0,S.d4)(b),i=(0,S.d4)(k),d=(0,S.d4)(C),o=(0,S.d4)(v),f=(0,S.wA)(),[g,j]=(0,R.useState)(!0),[N,w]=(0,R.useState)(!1),y=(0,R.useRef)(null),E=(0,R.useRef)(null);(0,R.useEffect)(()=>{let t=[];g&&t.push("Zero"),f(m({blackSlots:e,customSlots:t}))},[e,g,o,f]);let L=()=>{c.length?f(x()):(w(!1),f(u("Error all Games was rolled"))),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{f(u(""))},1e3)},G=()=>{A()},A=(0,R.useCallback)(()=>{if(s>0)for(let e=0;e<s;e++)L();else L()},[s,N,G,L]);(0,R.useEffect)(()=>(N&&(y.current=setInterval(()=>{A()},a)),()=>{y.current&&clearInterval(y.current)}),[N,A,a]);let B=(e,t)=>{let s=e.target.value,l=Number(s);!isNaN(l)&&l>=0&&l<=999999?t(l):l>999999?t(999999):""===s&&t(0)};return(0,l.jsxs)("div",{children:[i&&(0,l.jsx)("div",{className:"fixed text-xl left-1/2 transform -translate-x-1/2 bottom-30 bg-black p-4 border rounded",children:i}),(0,l.jsxs)("div",{className:"fixed bottom-0 left-1/2 transform items-center -translate-x-1/2 flex justify-between bg-black p-3 border",children:[(0,l.jsxs)("div",{className:"flex-1 flex-col items-center text-center border pl-1 pr-1 ".concat(N?"text-gray-500":""),children:[(0,l.jsx)("div",{children:"Games in event"}),(0,l.jsxs)("div",{className:"rounded border flex flex-row items-center ".concat(N?"text-gray-500":""),children:[(0,l.jsx)("button",{disabled:N,onClick:()=>f(h(d-1)),className:"text-white px-4 py-2 hover:bg-gray-700 border-r",children:"-"}),(0,l.jsx)("span",{className:"px-4 hover:bg-gray-700",children:d}),(0,l.jsx)("button",{disabled:N,onClick:()=>f(h(d+1)),className:"text-white px-4 py-2 hover:bg-gray-700 border-l",children:"+"})]})]}),(0,l.jsxs)("div",{className:"flex-1 flex-col items-center text-center border pl-1 pr-1 ".concat(N?"text-gray-500":""),children:[(0,l.jsx)("div",{children:"ZERO"}),(0,l.jsx)("div",{className:"p-2 border rounded",children:(0,l.jsx)("input",{type:"checkbox",disabled:N,checked:g,className:"p-2 rounded border transform scale-150",onChange:e=>{j(e.target.checked)}})})]}),(0,l.jsxs)("div",{className:"flex-1 flex-col items-center text-center border pl-1 pr-1 ".concat(N?"text-gray-500":""),children:[(0,l.jsx)("div",{children:"Black fields"}),(0,l.jsxs)("div",{className:"rounded border flex flex-row items-center ".concat(N?"text-gray-500":""),children:[(0,l.jsx)("button",{onClick:()=>{t(e=>Math.max(e-1,0)),w(!1)},className:"text-white px-4 py-2 hover:bg-gray-700 border-r",children:"-"}),(0,l.jsx)("span",{className:"px-4 hover:bg-gray-700",children:e}),(0,l.jsx)("button",{onClick:()=>{t(e=>e+1),w(!1)},className:"text-white px-4 py-2 hover:bg-gray-700 border-l",children:"+"})]})]}),(0,l.jsxs)("div",{className:"flex-col items-center text-center border pl-1 pr-1",children:[(0,l.jsx)("div",{children:"Generate"}),(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("button",{disabled:N,className:"border p-2  flex-1 ".concat(N?"text-gray-500":""),onClick:G,children:"Custom"}),(0,l.jsx)("button",{className:"border p-2  flex-1",onClick:()=>w(!N),children:N?"Stop":"Auto"}),(0,l.jsx)("button",{disabled:N,className:"border p-2  flex-1 ".concat(N?"text-gray-500":""),onClick:()=>f(p()),children:"Reset"})]})]}),(0,l.jsxs)("div",{className:"flex-col w-25 items-center text-center border pl-1 pr-1 max-w-fit",children:[(0,l.jsx)("div",{children:"Auto Delay"}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("input",{type:"text",className:"border p-2  flex-1 w-full",value:a,onChange:e=>B(e,n)})})]}),(0,l.jsxs)("div",{className:"flex-col w-22 items-center text-center border pl-1 pr-1 max-w-fit",children:[(0,l.jsx)("div",{children:"Skip Rolls"}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("input",{type:"text",className:"border p-2  flex-1 w-full",value:s,onChange:e=>B(e,r)})})]})]})]})},A=()=>{let e=(0,S.wA)(),t=(0,S.d4)(g),s=(0,S.d4)(f),r=(0,S.d4)(N),n=(0,S.d4)(w),c=(0,S.d4)(y),i=(0,S.d4)(v);return(0,R.useEffect)(()=>{(async()=>{e(d(await a()))})()},[e]),(0,l.jsx)("div",{className:"flex flex-wrap text-xs fixed top-1 left-1 bg-black",children:i.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"w-full flex flex-row",children:[(0,l.jsxs)("div",{className:"flex-1 text-lg text-center",children:["Rolls ",c]}),(0,l.jsxs)("div",{className:"flex-1 text-lg text-center",children:["Events ",n]}),(0,l.jsxs)("div",{className:"flex-1 text-lg text-center",children:["Black slots in event ",r]}),(0,l.jsxs)("div",{className:"flex-1 text-lg text-center",children:["% ",(100*(r/n||0)).toFixed(2)]})]}),Object.entries(t).map(e=>(0,l.jsxs)("div",{className:"flex justify-between items-center w-1/6 p-1 border ".concat(s.find(t=>t===e[0])?"text-gray-500":""),children:[(0,l.jsx)("span",{className:"flex-10 w-30 overflow-hidden whitespace-nowrap overflow-ellipsis",children:e[0]}),(0,l.jsx)("span",{className:"flex-1 pl-2",children:e[1]})]},e[0]))]}):(0,l.jsx)("div",{className:"fixed text-lg text-cen w-full",children:"Loading List"})})},B=(0,n.U1)({reducer:{games:E}}),I=()=>(0,l.jsx)(S.Kq,{store:B,children:(0,l.jsx)("div",{className:"font-[family-name:var(--font-geist-sans)] pt-80 pb-30",children:(0,l.jsxs)("main",{className:"w-full",children:[(0,l.jsx)(A,{}),(0,l.jsx)(L,{}),(0,l.jsx)(G,{})]})})})},7658:(e,t,s)=>{Promise.resolve().then(s.bind(s,4068))}},e=>{var t=t=>e(e.s=t);e.O(0,[284,441,684,358],()=>t(7658)),_N_E=e.O()}]);